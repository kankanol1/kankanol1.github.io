
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>异步加载</title>
    <script type="text/javascript">
        function initialize() {
            var map = new BMap.Map('map');
            map.centerAndZoom(new BMap.Point(108.990444, 34.25311), 16);
            var opts = {type: BMAP_NAVIGATION_CONTROL_SMALL};
            map.addControl(new BMap.NavigationControl(opts));
            map.addControl(new BMap.NavigationControl());
            map.addControl(new BMap.ScaleControl());
            map.addControl(new BMap.OverviewMapControl());
            map.addControl(new BMap.MapTypeControl());
            map.setCurrentCity("西安");
        }

        function loadScript() {
            var script = document.createElement("script");
            script.src = "http://api.map.baidu.com/api?v=2.0&ak=PRCQV0Stg2Pgj9EKapMf6c9zdijg0MQ7&callback=initialize";
            document.body.appendChild(script);
        }

        window.onload = loadScript;
    </script>
    <style>
        #map{
            width: 90%;
            height: 30rem;
            margin: auto auto;
        }
        h1,p{
            text-align: center;
        }

    </style>
</head>
<body>
<h1>你好，陌生人！</h1>
<p>相遇是缘，愿在某一个角落遇见陌生的你！</p>
<div id="map"></div>

</body>
</html>